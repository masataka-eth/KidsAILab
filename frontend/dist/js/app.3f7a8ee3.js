(function(){"use strict";var e={9719:function(e,t,n){var l=n(5130),o=n(6768);const a={id:"app"};function s(e,t,n,l,s,r){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(i)])}var r=(0,o.pM)({name:"App"}),i=n(1241);const c=(0,i.A)(r,[["render",s],["__scopeId","data-v-1afe0968"]]);var u=c,d=n(1387),p=n(9005);const g=(0,p.nY)("user",{state:()=>({uid:null,displayName:null,photoURL:null}),actions:{setUser(e){this.uid=e.uid,this.displayName=e.displayName,this.photoURL=e.photoURL},clearUser(){this.uid=null,this.displayName=null,this.photoURL=null}}}),m=(0,p.nY)("menu",{state:()=>({isMenuOpen:!1}),actions:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},closeMenu(){this.isMenuOpen=!1}}});var x=n(4232);const h={class:"min-h-screen flex"},v={class:"mt-4"};function b(e,t,n,l,a,s){const r=(0,o.g2)("NavigationMenu"),i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(r,{onLogout:e.logout},null,8,["onLogout"]),(0,o.Lk)("div",{class:(0,x.C4)(["bg-paper-yellow p-8 transition-all duration-300 flex-grow",{"md:ml-[1%]":!e.menuStore.isMenuOpen}])},[(0,o.Lk)("div",v,[(0,o.bF)(i)])],2)])}n(4114);var f=n(144);async function k(){if("undefined"===typeof window.ethereum)return console.error("Metamask is not installed"),null;try{const e=await window.ethereum.request({method:"eth_requestAccounts"});return e[0]}catch(e){return console.error("Error connecting to Metamask:",e),null}}async function y(e,t){const n=`Please sign this message to authenticate.\nNonce: ${t}`;try{const t=await window.ethereum.request({method:"personal_sign",params:[n,e]});return t}catch(l){return console.error("Error signing message:",l),null}}var w=n(5860),L=n(6400),C=n(9218),_=n(7617);const E={apiKey:"AIzaSyAx7UIjIqV-xfkfA2VeEsfhvZV4hWjS2H4",authDomain:"kids-ai-lab.firebaseapp.com",projectId:"kids-ai-lab",storageBucket:"kids-ai-lab.appspot.com",messagingSenderId:"785260278464",appId:"1:785260278464:web:12393a5918b1d019503325",measurementId:"G-P6JMX6NN5S"},j=(0,L.Wp)(E),M=((0,_.aU)(),(0,w.xI)()),T=((0,C.Uz)(j,"asia-northeast1"),new w.HF);function R(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}const F=(0,p.nY)("auth",(()=>{const e=(0,f.KR)(null),t=(0,f.KR)(!1),n=(0,f.KR)(null),l=(0,f.KR)(null),o=async()=>{const l=await k();if(l){n.value=R();const o=await y(l,n.value);o&&(e.value=l,t.value=!0)}},a=async()=>{const e=new w.HF;try{const n=await(0,w.df)(M,e);l.value=n.user,t.value=!0}catch(n){console.error("Googleãƒ­ã‚°ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼:",n)}},s=e=>{l.value=e,t.value=!0},r=()=>{e.value=null,l.value=null,t.value=!1,n.value=null,M.signOut()};return{walletAddress:e,isSigned:t,nonce:n,googleUser:l,loginWithMetamask:o,loginWithGoogle:a,logout:r,setUser:s}}));var z=n.p+"img/logo.9b5d2988.png";const A=e=>((0,o.Qi)("data-v-5aa7101a"),e=e(),(0,o.jt)(),e),X=A((()=>(0,o.Lk)("img",{src:z,alt:"Logo",class:"top-16 left-4 w-16 h-16",style:{height:"25px",width:"auto"}},null,-1))),K=A((()=>(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1))),q=[K],S=A((()=>(0,o.Lk)("div",{class:"mt-8"},null,-1))),I={class:"mb-4"},P=A((()=>(0,o.Lk)("i",{class:"fas fa-pencil-alt mr-2"},null,-1))),W={class:"mb-4"},$=A((()=>(0,o.Lk)("i",{class:"fas fa-user-edit mr-2"},null,-1))),O={class:"mb-4"},U=A((()=>(0,o.Lk)("i",{class:"fas fa-users mr-2"},null,-1))),H=A((()=>(0,o.Lk)("li",{class:"mb-4"},[(0,o.Lk)("hr",{class:"my-4 border-t border-gray-300"})],-1))),B={class:"mb-4"},N=A((()=>(0,o.Lk)("i",{class:"fas fa-question mr-2"},null,-1))),D={class:"mb-4"},Q=A((()=>(0,o.Lk)("i",{class:"fas fa-trophy mr-2"},null,-1))),V=A((()=>(0,o.Lk)("li",{class:"mb-4"},[(0,o.Lk)("hr",{class:"my-4 border-t border-gray-300"})],-1))),G={class:"mb-4"},J=A((()=>(0,o.Lk)("i",{class:"fas fa-utensils mr-2"},null,-1))),Y={class:"mb-4"},Z=A((()=>(0,o.Lk)("i",{class:"fas fa-list-ul mr-2"},null,-1))),ee={class:"mb-4"},te=A((()=>(0,o.Lk)("i",{class:"fas fa-chart-pie mr-2"},null,-1))),ne=A((()=>(0,o.Lk)("li",{class:"mb-4"},[(0,o.Lk)("hr",{class:"my-4 border-t border-gray-300"})],-1))),le={class:"mb-4"},oe=A((()=>(0,o.Lk)("i",{class:"fas fa-sign-out-alt mr-2"},null,-1))),ae=A((()=>(0,o.Lk)("div",{class:"absolute bottom-4 text-sm text-gray-400"}," Powered by OCT-PATH ",-1))),se=A((()=>(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})],-1))),re=[se];function ie(e,t,n,l,a,s){const r=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",{class:(0,x.C4)(["w-[300px] bg-white text-gray-500 font-sans p-6 fixed h-full top-0 left-0 z-40 transition-transform duration-300 md:relative md:block md:w-[300px] md:translate-x-0",{"transform -translate-x-full":!e.menuStore.isMenuOpen,"transform translate-x-0":e.menuStore.isMenuOpen}])},[X,(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.menuStore.closeMenu&&e.menuStore.closeMenu(...t)),class:"md:hidden fixed z-50 top-4 left-[250px] hover-element"},q),S,(0,o.Lk)("ul",null,[(0,o.Lk)("li",I,[(0,o.bF)(r,{to:"/contents/picture-book-create",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[P,(0,o.eW)(" ãˆã»ã‚“ã‚’ã¤ãã‚‹")])),_:1},8,["onClick"])]),(0,o.Lk)("li",W,[(0,o.bF)(r,{to:"/contents/picture-book-read",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[$,(0,o.eW)(" ã˜ã¶ã‚“ã®ãˆã»ã‚“ã‚’ã‚ˆã‚€")])),_:1},8,["onClick"])]),(0,o.Lk)("li",O,[(0,o.bF)(r,{to:"/contents/picture-book-read-public",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[U,(0,o.eW)(" ã¿ã‚“ãªã®ãˆã»ã‚“ã‚’ã‚ˆã‚€")])),_:1},8,["onClick"])]),H,(0,o.Lk)("li",B,[(0,o.bF)(r,{to:"/contents/mugen-quiz",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[N,(0,o.eW)(" ã‚€ã’ã‚“ã‚¯ã‚¤ã‚º")])),_:1},8,["onClick"])]),(0,o.Lk)("li",D,[(0,o.bF)(r,{to:"/contents/mugen-quiz-ranking",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[Q,(0,o.eW)(" ã‚¯ã‚¤ã‚ºãƒ©ãƒ³ã‚­ãƒ³ã‚°")])),_:1},8,["onClick"])]),V,(0,o.Lk)("li",G,[(0,o.bF)(r,{to:"/contents/cooking-recipe",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[J,(0,o.eW)(" ã‚Šã‚‡ã†ã‚Šã‚’ã¤ãã‚‹")])),_:1},8,["onClick"])]),(0,o.Lk)("li",Y,[(0,o.bF)(r,{to:"/contents/cooking-recipe-list",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[Z,(0,o.eW)(" ã¿ã‚“ãªã®ãƒ¬ã‚·ãƒ”")])),_:1},8,["onClick"])]),(0,o.Lk)("li",ee,[(0,o.bF)(r,{to:"/contents/cooking-analysis",onClick:e.closeMenu,class:"block p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},{default:(0,o.k6)((()=>[te,(0,o.eW)(" ã‚Šã‚‡ã†ã‚Šã‚’ã¶ã‚“ã›ãã™ã‚‹")])),_:1},8,["onClick"])]),ne,(0,o.Lk)("li",le,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("logout")),class:"w-full text-left p-2 rounded-lg transition-colors duration-200 ease-in-out hover:bg-gray-100 dark:hover:bg-paper-yellow"},[oe,(0,o.eW)(" ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ ")])])]),ae],2),e.menuStore.isMenuOpen?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[2]||(t[2]=(...t)=>e.menuStore.toggleMenu&&e.menuStore.toggleMenu(...t)),class:"fixed z-20 md:hidden top-4 left-4 hover-element"},re))])}var ce=(0,o.pM)({name:"NavigationMenu",setup(){const e=(0,d.rd)(),t=g(),n=m(),l=()=>{window.innerWidth<=768&&n.closeMenu()},o=()=>{t.clearUser(),n.closeMenu(),e.push({name:"LoginSns"})};return{logout:o,menuStore:n,closeMenu:l}}});const ue=(0,i.A)(ce,[["render",ie],["__scopeId","data-v-5aa7101a"]]);var de=ue,pe=(0,o.pM)({components:{NavigationMenu:de},setup(){const e=F(),t=(0,d.rd)(),n=m(),l=()=>{e.logout(),t.push({name:"LoginSns"})};return{logout:l,menuStore:n}}});const ge=(0,i.A)(pe,[["render",b],["__scopeId","data-v-5385c3cf"]]);var me=ge;const xe=e=>((0,o.Qi)("data-v-6b6fba8b"),e=e(),(0,o.jt)(),e),he={class:"container mx-auto px-4 mt-[-20px]"},ve=xe((()=>(0,o.Lk)("h2",{class:"text-4xl font-bold mb-4 text-center text-purple-700"},[(0,o.Lk)("i",{class:"fas fa-pencil-alt mr-2"}),(0,o.eW)(" ãˆã»ã‚“ã‚’ã¤ãã‚‹ ")],-1))),be=xe((()=>(0,o.Lk)("p",{class:"text-gray-500 mb-6 text-lg"}," AIğŸ¤–ã«ã¦ã¤ã ã£ã¦ã‚‚ã‚‰ã£ã¦ã€ã˜ã¶ã‚“ã ã‘ã®ã€Œãˆã»ã‚“ã€ã‚’ã¤ãã‚ã†ğŸ’ª ãã»ã‚“ã¯ã€Œãã—ã‚‡ã†ã¦ã‚“ã‘ã¤ã€ã ğŸ”¥ ã¤ãã£ãŸã€Œãˆã»ã‚“ã€ã¯ã›ã‹ã„ã®ã¿ã‚“ãªãŒã¿ã‚Œã‚‹ã‚ˆğŸŒ ã¯ã‚Šãã£ã¦ã¤ãã‚ã†â¤ï¸ ",-1))),fe=xe((()=>(0,o.Lk)("hr",{class:"my-8 border-t-2 border-dashed border-gray-300"},null,-1))),ke={class:"space-y-6"},ye=xe((()=>(0,o.Lk)("label",{for:"ki",class:"block text-lg font-bold text-gray-700"},"âœï¸ èµ·ï¼ˆãï¼‰ï¼šã¯ã˜ã¾ã‚Šã‚’ã‹ã“ã†",-1))),we=xe((()=>(0,o.Lk)("label",{for:"sho",class:"block text-lg font-bold text-gray-700"},"âœï¸ æ‰¿ï¼ˆã—ã‚‡ã†ï¼‰ï¼šã‚‚ã®ãŒãŸã‚Šã‚’ã™ã™ã‚ã‚ˆã†",-1))),Le=xe((()=>(0,o.Lk)("label",{for:"ten",class:"block text-lg font-bold text-gray-700"},"âœï¸ è»¢ï¼ˆã¦ã‚“ï¼‰ï¼šãªã«ã‹ã¸ã‚“ã‹ã‚’ãŠã“ãã†",-1))),Ce=xe((()=>(0,o.Lk)("label",{for:"ketsu",class:"block text-lg font-bold text-gray-700"},"âœï¸ çµï¼ˆã‘ã¤ï¼‰ï¼šãŠã‚ã‚Šã‚’ã‹ã“ã†",-1))),_e=["disabled"],Ee={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},je=xe((()=>(0,o.Lk)("div",{class:"bg-white p-6 rounded-lg shadow-lg text-center"},[(0,o.Lk)("p",{class:"text-xl mb-4"},"ã‹ã‚“ã›ã„ã™ã‚‹ã¾ã§ã˜ã‹ã‚“ãŒã‹ã‹ã‚‹ã‚ˆğŸ™"),(0,o.Lk)("div",{class:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"})],-1))),Me=[je],Te={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Re={class:"bg-white p-6 rounded-lg shadow-lg text-center"},Fe=xe((()=>(0,o.Lk)("h2",{class:"text-2xl font-bold mb-4"},"ãˆã»ã‚“ãŒã‹ã‚“ã›ã„ã—ã¾ã—ãŸï¼ğŸ‰âœ¨",-1))),ze=xe((()=>(0,o.Lk)("p",{class:"mb-4"},"ã€Œãˆã»ã‚“ã‚’ã‚ˆã‚€ã€ã‹ã‚‰ã‚ˆã‚“ã§ã¿ã‚ˆã†ã€‚",-1)));function Ae(e,t,n,a,s,r){return(0,o.uX)(),(0,o.CE)("div",he,[ve,be,fe,(0,o.Lk)("div",ke,[(0,o.Lk)("div",null,[ye,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.ki=t),type:"text",id:"ki",class:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-lg",placeholder:"ã‚€ã‹ã—ã‚€ã‹ã—ã€ã‚ã‚‹æ‘ã«ã‚¿ãƒ­ã‚¦ã¨ã„ã†ç”·ã®å­ãŒã™ã‚“ã§ã„ã¾ã—ãŸã€‚"},null,512),[[l.Jo,e.ki]])]),(0,o.Lk)("div",null,[we,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.sho=t),type:"text",id:"sho",class:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-lg",placeholder:"ã‚¿ãƒ­ã‚¦ã¯ã‚ã‚‹æ—¥ã€å±±ã¸ã¼ã†ã‘ã‚“ã«ã„ã£ãŸã€‚"},null,512),[[l.Jo,e.sho]])]),(0,o.Lk)("div",null,[Le,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.ten=t),type:"text",id:"ten",class:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-lg",placeholder:"å±±ã®ä¸­ã§ã‚¿ãƒ­ã‚¦ã¯ãŠãŠããªãƒ‰ãƒ©ã‚´ãƒ³ã«ã‚ã£ãŸã€‚"},null,512),[[l.Jo,e.ten]])]),(0,o.Lk)("div",null,[Ce,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.ketsu=t),type:"text",id:"ketsu",class:"mt-2 block w-full px-4 py-3 border border-gray-3000 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-lg",placeholder:"ã‚¿ãƒ­ã‚¦ã¯ãƒ‰ãƒ©ã‚´ãƒ³ã¨æ‘ã§ãŸã®ã—ãä¸€ç·’ã«ãã‚‰ã—ã¾ã—ãŸã€‚"},null,512),[[l.Jo,e.ketsu]])]),(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...t)=>e.createPictureBook&&e.createPictureBook(...t)),disabled:!e.isFormValid,class:"w-1/2 min-w-[300px] py-3 px-6 bg-purple-600 hover:bg-purple-700 text-white text-lg font-semibold rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mx-auto block disabled:opacity-50 disabled:cursor-not-allowed"}," ãˆã»ã‚“ã‚’ã¤ãã‚‹ğŸ‰âœ¨ ",8,_e)]),e.isLoading?((0,o.uX)(),(0,o.CE)("div",Ee,Me)):(0,o.Q3)("",!0),e.showCompletionPopup?((0,o.uX)(),(0,o.CE)("div",Te,[(0,o.Lk)("div",Re,[Fe,ze,(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...t)=>e.closeCompletionPopup&&e.closeCompletionPopup(...t)),class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded"}," ã¨ã˜ã‚‹ ")])])):(0,o.Q3)("",!0)])}const Xe="https://us-central1-kids-ai-lab.cloudfunctions.net";async function Ke(e,t){try{const n=await Ie(e,t),l=n.content_id,o=n.title,a=n.pages;return await Pe(e,l,o,a)}catch(n){throw n instanceof Error?new Error("Failed to create and add contents: "+n.message):new Error("Failed to create and add contents: Unknown error")}}async function qe(e,t){try{const n=t?`${Xe}/on_get_contents_list?google_id=${t}&page=${e}`:`${Xe}/on_get_contents_list?page=${e}`,l=n;console.log("url:",l);const o=await fetch(l,{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to get contents list");return await o.json()}catch(n){throw n instanceof Error?new Error("Failed to get contents list: "+n.message):new Error("Failed to get contents list: Unknown error")}}async function Se(e){try{const t=await fetch(Xe+"/on_get_contents_detail?content_id="+e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to get content detail");return await t.json()}catch(t){throw t instanceof Error?new Error("Failed to get content detail: "+t.message):new Error("Failed to get content detail: Unknown error")}}async function Ie(e,t){const n=await fetch(Xe+"/on_make_contents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({google_id:e,text_data:t})});if(!n.ok)throw new Error("Failed to make contents");return await n.json()}async function Pe(e,t,n,l){const o=await fetch(Xe+"/on_add_contents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({google_id:e,content_id:t,title:n,pages:l})});if(!o.ok)throw new Error("Failed to add contents");return await o.json()}var We=(0,o.pM)({name:"PictureBookCreate",setup(){const e=g(),t=(0,f.KR)(""),n=(0,f.KR)(""),l=(0,f.KR)(""),a=(0,f.KR)(""),s=(0,o.EW)((()=>""!==t.value.trim()&&""!==n.value.trim()&&""!==l.value.trim()&&""!==a.value.trim())),r=(0,f.KR)(!1),i=(0,f.KR)(!1),c=async()=>{if(e.uid){r.value=!0;const s=`${t.value} ${n.value} ${l.value} ${a.value}`;try{await Ke(e.uid,s),r.value=!1,i.value=!0}catch(o){console.error("Error creating picture book:",o),r.value=!1,alert("ãˆã»ã‚“ã®ä½œæˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚")}}else console.error("User is not logged in"),e.clearUser()},u=()=>{i.value=!1};return{ki:t,sho:n,ten:l,ketsu:a,isFormValid:s,isLoading:r,showCompletionPopup:i,createPictureBook:c,closeCompletionPopup:u}}});const $e=(0,i.A)(We,[["render",Ae],["__scopeId","data-v-6b6fba8b"]]);var Oe=$e;const Ue=e=>((0,o.Qi)("data-v-7345d2e5"),e=e(),(0,o.jt)(),e),He={class:"container mx-auto px-4 mt-[-20px]"},Be={class:"text-3xl font-bold mb-4 text-center text-purple-700 sm:text-4xl"},Ne={class:"overflow-x-auto min-h-[50vh]"},De={key:0,class:"text-center h-full flex items-center justify-center"},Qe=Ue((()=>(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-8xl text-purple-700"},null,-1))),Ve=[Qe],Ge={key:1},Je={key:0,class:"text-center text-xl text-gray-500 py-8"},Ye={key:1,class:"w-full bg-white rounded-lg overflow-hidden shadow-lg"},Ze=Ue((()=>(0,o.Lk)("thead",{class:"bg-purple-200"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"px-4 py-3 text-left text-xl sm:table-cell hidden"}," ã¤ãã£ãŸæ—¥ "),(0,o.Lk)("th",{class:"px-4 py-3 text-left text-xl"},"ã‚¿ã‚¤ãƒˆãƒ«"),(0,o.Lk)("th",{class:"px-4 py-3 text-center text-xl"})])],-1))),et={class:"px-4 py-3 text-lg sm:table-cell hidden"},tt={class:"px-4 py-3 text-lg"},nt={class:"px-4 py-3 text-center"},lt=["onClick"],ot={key:0,class:"mt-6 flex justify-center items-center"},at=["disabled"],st={class:"text-xl"},rt=["disabled"];var it=(0,o.pM)({__name:"PictureBookRead",props:{mode:{}},setup(e,{expose:t}){const n=e,l=(0,f.KR)([]),a=(0,f.KR)(1),s=(0,f.KR)(!1),r=(0,f.KR)(!0),i=g(),c=async()=>{r.value=!0;try{let e;console.log("currentPage.value: ",a.value),"personal"===n.mode&&i.uid?(console.log("fetchBooks__personal"),e=await qe(a.value,i.uid)):(console.log("fetchBooks__public"),e=await qe(a.value)),l.value=e.contents||[],s.value=e.hasNextPage||!1}catch(e){console.error("Error fetching books:",e),l.value=[],s.value=!1}finally{r.value=!1}};(0,o.sV)(c),(0,o.wB)((()=>n.mode),(e=>{console.log("mode change:",e),c()}),{immediate:!0});const u=()=>{a.value>1&&(a.value--,c())},d=()=>{s.value&&(a.value++,c())},p=e=>{const t=new Date(e);return t.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},m=async e=>{console.log(`Reading book with ID: ${e}`);try{r.value=!0;const t=await Se(e);console.log("readBook__response: ",t);const n=t.pages,l=(0,f.KR)(0),a=(0,o.EW)((()=>n[l.value])),s=()=>{l.value<n.length-1&&l.value++},i=()=>{l.value>0&&l.value--},c=()=>{const e=document.createElement("div");e.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.9);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 1000;\n      ";const t=document.createElement("div");t.style.cssText="\n        background: #FFF9C4;\n        padding: 20px;\n        border-radius: 20px;\n        box-shadow: 0 0 20px rgba(0,0,0,0.2);\n        max-width: 95%;\n        max-height: 95%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        position: relative;\n      ";const o=document.createElement("button");o.textContent="Ã—",o.style.cssText="\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        background: none;\n        border: none;\n        font-size: 36px;\n        cursor: pointer;\n        color: #FF6B6B;\n        width: 50px;\n        height: 50px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      ",o.onclick=()=>document.body.removeChild(e);const c=document.createElement("img");c.style.display="none",c.onload=()=>{r.value=!1,c.style.display="block"},c.src=a.value.page_url,c.style.cssText="\n        max-width: 100%;\n        height: auto;\n        max-height: 80vh;\n        object-fit: contain;\n        border-radius: 10px;\n        margin-bottom: 20px;\n      ";const u=document.createElement("div");u.style.cssText="\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        width: 100%;\n        max-width: 300px;\n      ";const d=document.createElement("div");d.style.cssText="\n        font-size: 18px;\n        margin: 0 10px;\n      ",d.textContent=`${l.value+1} / ${n.length}`;const p=(e,t)=>{const o=document.createElement("button");return o.textContent=e,o.style.cssText="\n          background: #4CAF50;\n          color: white;\n          border: none;\n          padding: 10px 20px;\n          border-radius: 20px;\n          font-size: 16px;\n          cursor: pointer;\n          transition: background 0.3s;\n        ",o.onmouseover=()=>o.style.background="#45a049",o.onmouseout=()=>o.style.background="#4CAF50",o.onclick=()=>{t(),c.src=a.value.page_url,d.textContent=`${l.value+1} / ${n.length}`},o},g=p("ã¾ãˆ",i),m=p("ã¤ã",s);u.appendChild(g),u.appendChild(d),u.appendChild(m),t.appendChild(o),t.appendChild(c),t.appendChild(u),e.appendChild(t),document.body.appendChild(e)};c()}catch(t){console.error("Error fetching books:",t),r.value=!1}},h=(0,o.EW)((()=>(console.log("props.mode: ",n.mode),"personal"===n.mode?"ã˜ã¶ã‚“ã®ãˆã»ã‚“ã‚’ã‚ˆã‚€":"ã¿ã‚“ãªã®ãˆã»ã‚“ã‚’ã‚ˆã‚€"))),v=(0,o.EW)((()=>"personal"===n.mode?"fas fa-user-edit mr-2":"fas fa-users mr-2"));return(0,o.wB)(r,(e=>{e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")})),t({books:l,currentPage:a,hasNextPage:s,prevPage:u,nextPage:d,formatDate:p,readBook:m,isLoading:r,pageTitle:h}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",He,[(0,o.Lk)("h2",Be,[(0,o.Lk)("i",{class:(0,x.C4)(v.value)},null,2),(0,o.eW)(" "+(0,x.v_)(h.value),1)]),(0,o.Lk)("div",Ne,[r.value?((0,o.uX)(),(0,o.CE)("div",De,Ve)):((0,o.uX)(),(0,o.CE)("div",Ge,[0===l.value.length?((0,o.uX)(),(0,o.CE)("div",Je," ãˆã»ã‚“ã¯ã¾ã ãªã„ã‚ˆã€‚ã¤ãã£ã¦ã¿ã‚ˆã†ï¼ ")):((0,o.uX)(),(0,o.CE)("table",Ye,[Ze,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t,class:"border-b border-gray-200 hover:bg-purple-50"},[(0,o.Lk)("td",et,(0,x.v_)(p(e.date)),1),(0,o.Lk)("td",tt,(0,x.v_)(e.title),1),(0,o.Lk)("td",nt,[(0,o.Lk)("button",{onClick:t=>m(e.content_id),class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full text-lg transition duration-300 ease-in-out transform hover:scale-105 whitespace-nowrap"}," ã‚ˆã‚€ ",8,lt)])])))),128))])]))]))]),!r.value&&l.value.length>0&&(s.value||a.value>1)?((0,o.uX)(),(0,o.CE)("div",ot,[(0,o.Lk)("button",{onClick:u,disabled:1===a.value,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full mr-4 disabled:opacity-50"}," ã¾ãˆ ",8,at),(0,o.Lk)("span",st,(0,x.v_)(a.value),1),(0,o.Lk)("button",{onClick:d,disabled:!s.value,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full ml-4 disabled:opacity-50"}," ã¤ã ",8,rt)])):(0,o.Q3)("",!0)]))}});const ct=(0,i.A)(it,[["__scopeId","data-v-7345d2e5"]]);var ut=ct,dt=n.p+"img/top.7471951f.jpg";const pt=e=>((0,o.Qi)("data-v-6ed86075"),e=e(),(0,o.jt)(),e),gt={class:"min-h-screen flex"},mt={class:"w-full md:w-3/12 flex flex-col justify-center items-center bg-white"},xt=pt((()=>(0,o.Lk)("img",{src:z,alt:"Logo",class:"absolute top-12 left-4 w-16 h-16",style:{height:"30px",width:"auto"}},null,-1))),ht={class:"max-w-md w-full p-8",style:{"margin-top":"-300px"}},vt=pt((()=>(0,o.Lk)("h2",{class:"text-3xl font-bold mb-6 text-left text-purple-700"}," Sign up ",-1))),bt=["disabled"],ft={key:0},kt={key:1,class:"flex items-center justify-center"},yt=pt((()=>(0,o.Lk)("svg",{class:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24"},[(0,o.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,o.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1))),wt=pt((()=>(0,o.Lk)("div",{class:"absolute bottom-4 text-sm text-gray-400"}," Powered by OCT-PATH ",-1))),Lt=pt((()=>(0,o.Lk)("div",{class:"hidden md:block md:w-9/12 relative"},[(0,o.Lk)("img",{src:dt,alt:"Top Image",class:"absolute left-0 top-0 h-full w-full object-cover object-left"})],-1)));function Ct(e,t,n,l,a,s){return(0,o.uX)(),(0,o.CE)("div",gt,[(0,o.Lk)("div",mt,[xt,(0,o.Lk)("div",ht,[vt,(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.loginWithGoogle&&e.loginWithGoogle(...t)),class:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75",disabled:e.isLoading},[e.isLoading?((0,o.uX)(),(0,o.CE)("span",kt,[yt,(0,o.eW)(" Loading... ")])):((0,o.uX)(),(0,o.CE)("span",ft,"Continue with Google"))],8,bt)]),wt]),Lt])}const _t="https://us-central1-kids-ai-lab.cloudfunctions.net";async function Et(e,t,n){const l=await fetch(_t+"/on_add_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({google_id:e,name:t,image_url:n})});if(!l.ok)throw new Error("Failed to sign up");return await l.json()}var jt=Et,Mt=(0,o.pM)({setup(){const e=g(),t=(0,d.rd)(),n=(0,f.KR)(!1),l=async()=>{n.value=!0;try{const n=await(0,w.df)(M,T),l=n.user;e.setUser(l),console.log("Login successful:",l.uid,l.displayName,l.photoURL),await jt(l.uid,l.displayName||"åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼",l.photoURL||"https://www.gravatar.com/avatar/[MD5ãƒãƒƒã‚·ãƒ¥]?d=mp&s=200"),await t.push({name:"PictureBookCreate"}),console.log("push:",t.currentRoute.value.name)}catch(l){console.error("Google Sign-In Error: ",l)}n.value=!1};return{loginWithGoogle:l,isLoading:n}}});const Tt=(0,i.A)(Mt,[["render",Ct],["__scopeId","data-v-6ed86075"]]);var Rt=Tt;const Ft="https://us-central1-kids-ai-lab.cloudfunctions.net";async function zt(e,t){try{const n=await fetch(Ft+"/on_update_quiz_level",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({google_id:e,level:t})});if(!n.ok)throw new Error("Failed to update quiz level");return await n.json()}catch(n){throw n instanceof Error?new Error("Failed to update quiz level: "+n.message):new Error("Failed to update quiz level: Unknown error")}}async function At(e){try{const t=await fetch(Ft+"/on_get_quiz_level?google_id="+e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to get quiz level");return await t.json()}catch(t){throw t instanceof Error?new Error("Failed to get quiz level: "+t.message):new Error("Failed to get quiz level: Unknown error")}}async function Xt(e){try{const t=await fetch(Ft+"/on_make_quiz?level="+e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to get quiz by level");return await t.json()}catch(t){throw t instanceof Error?new Error("Failed to get quiz by level: "+t.message):new Error("Failed to get quiz by level: Unknown error")}}async function Kt(){try{const e=await fetch(Ft+"/on_get_quiz_level_top10",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to get quiz level top 10");return await e.json()}catch(e){throw e instanceof Error?new Error("Failed to get quiz level top 10: "+e.message):new Error("Failed to get quiz level top 10: Unknown error")}}const qt=e=>((0,o.Qi)("data-v-fa300fee"),e=e(),(0,o.jt)(),e),St={class:"container mx-auto px-4 mt-[-20px]"},It=qt((()=>(0,o.Lk)("h2",{class:"text-3xl font-bold mb-4 text-center text-purple-700 sm:text-4xl"},[(0,o.Lk)("i",{class:"fas fa-question-circle mr-2"}),(0,o.eW)(" ã‚€ã’ã‚“ã‚¯ã‚¤ã‚º ")],-1))),Pt=qt((()=>(0,o.Lk)("p",{class:"text-center text-lg mb-4 text-gray-600"}," AIãŒ ã‚€ã’ã‚“ ã«ã‚¯ã‚¤ã‚ºã‚’ä½œã‚‹ã‚¾ğŸ”¥ ",-1))),Wt={class:"text-center mb-4"},$t={class:"text-xl text-gray-700"},Ot={class:"text-xl text-gray-700"},Ut=qt((()=>(0,o.Lk)("p",{class:"text-center text-lg mb-4 text-gray-600"}," ãƒ«ãƒ¼ãƒ«ï¼šãœã‚“ã‚‚ã‚“ã›ã„ã‹ã„ ã§ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—â¤´ï¸ã€ã¾ã¡ãŒãˆã°ãƒ¬ãƒ™ãƒ«ãƒ€ã‚¦ãƒ³â¤µï¸ ",-1))),Ht=qt((()=>(0,o.Lk)("hr",{class:"my-8 border-t-2 border-dashed border-gray-300"},null,-1))),Bt=qt((()=>(0,o.Lk)("p",{class:"text-center text-lg mb-4 text-gray-600"},"ã‚‚ã‚“ã ã„ã‚’ãˆã‚‰ã¼ã†ï¼",-1))),Nt={class:"flex flex-wrap justify-center gap-4"},Dt={key:0,class:"text-center"},Qt=qt((()=>(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-8xl text-purple-700 mt-2"},null,-1))),Vt=[Qt],Gt=["onClick"];var Jt={__name:"MugenQuiz",setup(e){const t=g(),n=(0,f.KR)(0),l=(0,f.KR)(""),a=(0,f.KR)([]),s=(0,f.KR)(!0),r=async()=>{s.value=!0;const e=await At(t.uid);n.value=e.level||0,l.value=c(n.value);const o=await Xt(n.value);a.value=o.quiz,s.value=!1},i=async e=>{s.value=!0,n.value=e,await zt(t.uid,e),await r(),s.value=!1},c=e=>e>=0&&e<=5?"ã‚¯ã‚¤ã‚ºã¯ã˜ã‚ã¦ ğŸ£":e>=6&&e<=10?"ã‚¯ã‚¤ã‚ºãŸã‚“ã‘ã‚“ ğŸ§­":e>=11&&e<=15?"ã‚¯ã‚¤ã‚ºãŒã‚“ã°ã‚„ ğŸ’ª":e>=16&&e<=20?"ã‚¯ã‚¤ã‚ºã¡ãˆã®ã‚ ğŸ§ ":e>=21&&e<=25?"ã‚¯ã‚¤ã‚ºã˜ã‚‡ã†ãš ğŸ…":e>=26&&e<=30?"ã‚¯ã‚¤ã‚ºãŸã¤ã˜ã‚“ ":e>=31&&e<=35?"ã‚¯ã‚¤ã‚ºã¤ã‚ˆã„ ğŸ¦¾":e>=36&&e<=40?"ã‚¯ã‚¤ã‚ºã®ã† ğŸ§™":e>=41&&e<=45?"ã‚¯ã‚¤ã‚ºã‚·ãƒ‹ã‚¢ ğŸ‘´":e>=46&&e<=50?"ã‚¯ã‚¤ã‚ºãƒ™ãƒ†ãƒ©ãƒ³ ğŸ–":e>=51&&e<=55?"ã‚¯ã‚¤ã‚ºãƒã‚¹ã‚¿ãƒ¼ ğŸ§©":e>=56&&e<=60?"ã‚¯ã‚¤ã‚ºã‚°ãƒ©ãƒ³ãƒ‰ãƒã‚¹ã‚¿ãƒ¼ ğŸ†":e>=61&&e<=65?"ã‚¯ã‚¤ã‚ºã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ ğŸ¥ˆ":e>=66&&e<=70?"ã‚¯ã‚¤ã‚ºã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆ ğŸ¥‰":e>=71&&e<=75?"ã‚¯ã‚¤ã‚ºã‚¦ã‚©ãƒªã‚¢ãƒ¼ âš”ï¸":e>=76&&e<=80?"ã‚¯ã‚¤ã‚ºãƒŠã‚¤ãƒˆ ğŸ›¡ï¸":e>=81&&e<=85?"ã‚¯ã‚¤ã‚ºãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ ğŸŒŸ":e>=86&&e<=90?"ã‚¯ã‚¤ã‚ºã‚¿ã‚¤ã‚¿ãƒ³ ğŸ—¿":e>=91&&e<=95?"ã‚¯ã‚¤ã‚ºãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ ğŸ…":e>=96&&e<=99?"ã‚¯ã‚¤ã‚ºã‚¢ãƒ«ãƒ†ã‚£ãƒ¡ãƒƒãƒˆ ğŸ”¥":100==e?"ã‚¯ã‚¤ã‚ºã‚´ãƒƒãƒ‰ ğŸ‘‘":"ç§°å·ãªã—",u=e=>{const t=document.createElement("div");t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      z-index: 1000;\n    ";const l=document.createElement("div");l.style.cssText="\n      background: #fff;\n      padding: 20px;\n      border-radius: 10px;\n      text-align: center;\n      max-width: 90%;\n      max-height: 90%;\n      overflow-y: auto;\n    ";const o=document.createElement("h2");o.textContent=e.question,o.style.cssText="\n      font-size: 24px;\n      margin-bottom: 20px;\n    ";const s=document.createElement("div");s.style.cssText="\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    ";const r=Array.isArray(e.answerChoices)?e.answerChoices:Object.values(e.answerChoices);r.forEach(((l,o)=>{const r=document.createElement("button");r.textContent=l,r.style.cssText="\n        background: #4CAF50;\n        color: white;\n        border: none;\n        padding: 10px;\n        border-radius: 5px;\n        font-size: 18px;\n        cursor: pointer;\n        transition: background 0.3s;\n      ",r.onmouseover=()=>r.style.background="#45a049",r.onmouseout=()=>r.style.background="#4CAF50",r.onclick=async()=>{o===e.correctAnswer?(d("ã›ã„ã‹ã„ã§ã™ï¼ãŠã‚ã§ã¨ã†ï¼ğŸ‰",e.wisdomInformation),document.body.removeChild(t),a.value=a.value.filter((t=>t.quizNo!==e.quizNo)),0===a.value.length&&await i(n.value+1)):(d("ã–ã‚“ã­ã‚“ï¼ğŸ˜¢",`æ­£è§£ã¯: ${e.correctAnswer+1}<br><br>${e.wisdomInformation}`),document.body.removeChild(t),await i(n.value-1))},s.appendChild(r)})),l.appendChild(o),l.appendChild(s),t.appendChild(l),document.body.appendChild(t)},d=(e,t)=>{const n=document.createElement("div");n.style.cssText="\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background: #fff;\n      padding: 20px;\n      border-radius: 10px;\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n      z-index: 1001;\n      text-align: center;\n      width: 50%; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ¨ªå¹… */\n    ",window.innerWidth<=600&&(n.style.width="95%");const l=document.createElement("h2");l.textContent=e,l.style.cssText="\n      font-size: 24px;\n      margin-bottom: 10px;\n      color: #4CAF50;\n    ";const o=document.createElement("p");o.innerHTML=t,o.style.cssText="\n      font-size: 18px;\n      margin-bottom: 20px;\n    ";const a=document.createElement("button");a.textContent="é–‰ã˜ã‚‹",a.style.cssText="\n      background: #4CAF50;\n      color: white;\n      border: none;\n      padding: 10px 20px;\n      border-radius: 5px;\n      font-size: 16px;\n      cursor: pointer;\n      transition: background 0.3s;\n    ",a.onmouseover=()=>a.style.background="#45a049",a.onmouseout=()=>a.style.background="#4CAF50",a.onclick=()=>document.body.removeChild(n),n.appendChild(l),n.appendChild(o),n.appendChild(a),document.body.appendChild(n)};return(0,o.sV)((()=>{r()})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",St,[It,Pt,(0,o.Lk)("div",Wt,[(0,o.Lk)("p",$t,"ã„ã¾ã®ãƒ¬ãƒ™ãƒ«: "+(0,x.v_)(n.value),1),(0,o.Lk)("p",Ot,"ãƒ©ãƒ³ã‚¯: "+(0,x.v_)(l.value),1)]),Ut,Ht,Bt,(0,o.Lk)("div",Nt,[s.value?((0,o.uX)(),(0,o.CE)("div",Dt,Vt)):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(a.value,(e=>((0,o.uX)(),(0,o.CE)("button",{key:e.quizNo,onClick:t=>u(e),class:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-bold py-2 px-4 rounded-lg shadow-lg transform transition-transform hover:scale-105"},(0,x.v_)(e.word),9,Gt)))),128))])]))}};const Yt=(0,i.A)(Jt,[["__scopeId","data-v-fa300fee"]]);var Zt=Yt;const en={class:"container mx-auto px-4 mt-[-20px]"},tn=(0,o.Lk)("h2",{class:"text-3xl font-bold mb-4 text-center text-purple-700 sm:text-4xl"},[(0,o.Lk)("i",{class:"fas fa-trophy mr-2"}),(0,o.eW)(" ã‚¯ã‚¤ã‚ºãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ã¿ã‚‹ ")],-1),nn={class:"overflow-x-auto min-h-[50vh]"},ln={key:0,class:"text-center h-full flex items-center justify-center"},on=(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-8xl text-purple-700"},null,-1),an=[on],sn={key:1,class:"w-full bg-white rounded-lg overflow-hidden shadow-lg mt-8"},rn=(0,o.Lk)("thead",{class:"bg-purple-200"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"px-4 py-3 text-left text-xl"},"é †ä½"),(0,o.Lk)("th",{class:"px-4 py-3 text-left text-xl"},"ãƒ¦ãƒ¼ã‚¶ãƒ¼å"),(0,o.Lk)("th",{class:"px-4 py-3 text-left text-xl"},"ãƒ¬ãƒ™ãƒ«")])],-1),cn={class:"px-4 py-3 text-lg"},un={class:"px-4 py-3 text-lg"},dn={key:0,class:"fas fa-user ml-2 text-blue-500"},pn={class:"px-4 py-3 text-lg"};var gn={__name:"MugenQuizRanking",setup(e){const t=(0,f.KR)([]),n=(0,f.KR)(!0),l=g(),a=(0,o.EW)((()=>l.uid));return(0,o.sV)((async()=>{try{const e=await Kt();t.value=e.top_10}catch(e){console.error("ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ:",e)}finally{n.value=!1}})),(e,l)=>((0,o.uX)(),(0,o.CE)("div",en,[tn,(0,o.Lk)("div",nn,[n.value?((0,o.uX)(),(0,o.CE)("div",ln,an)):((0,o.uX)(),(0,o.CE)("table",sn,[rn,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:(0,x.C4)({"bg-yellow-100":e.id===a.value})},[(0,o.Lk)("td",cn,(0,x.v_)(t+1),1),(0,o.Lk)("td",un,[(0,o.eW)((0,x.v_)(e.id===a.value?"ã‚ãªãŸ":"ã›ã‹ã„ã®ã ã‚Œã‹")+" ",1),e.id===a.value?((0,o.uX)(),(0,o.CE)("i",dn)):(0,o.Q3)("",!0)]),(0,o.Lk)("td",pn,(0,x.v_)(e.level),1)],2)))),128))])]))])]))}};const mn=gn;var xn=mn;const hn="https://us-central1-kids-ai-lab.cloudfunctions.net",vn=async()=>{const e=await fetch(`${hn}/on_get_cooking_materials`);return e.json()},bn=async(e,t)=>{const n=await fetch(`${hn}/on_get_cooking_recipe?material=${e}&aji_type=${t}`);return n.json()},fn=async e=>{const t=await fetch(`${hn}/on_get_existing_recipes?page=${e}`);return t.json()},kn=e=>((0,o.Qi)("data-v-3bdf9790"),e=e(),(0,o.jt)(),e),yn={class:"container mx-auto px-4 mt-[-20px]"},wn=kn((()=>(0,o.Lk)("h2",{class:"text-3xl font-bold mb-4 text-center text-purple-700 sm:text-4xl"},[(0,o.Lk)("i",{class:"fas fa-utensils mr-2"}),(0,o.eW)(" ã‚Šã‚‡ã†ã‚Šã‚’ã¤ãã‚‹ ")],-1))),Ln=kn((()=>(0,o.Lk)("p",{class:"text-center text-lg mb-4 text-gray-600"}," AIãŒ ã¾ã»ã† ã®ãƒ¬ã‚·ãƒ”ã‚’ä½œã‚‹ã‚¾ğŸ”¥ ",-1))),Cn={key:0,class:"text-center"},_n=kn((()=>(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-8xl text-purple-700 mt-2"},null,-1))),En=[_n],jn={key:1},Mn=kn((()=>(0,o.Lk)("p",{class:"text-center text-lg mb-4 text-gray-600"}," ï¼“ã¤ã® é£Ÿã–ã„ ã‚’ãˆã‚‰ã¼ã†ï¼âœ… ",-1))),Tn={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Rn=["onClick"],Fn={class:"flex items-center w-full h-full cursor-pointer"},zn=["value"],An={class:"mt-6 text-center"},Xn=kn((()=>(0,o.Lk)("p",{class:"text-lg mb-2 text-gray-600"},"ã‚ã˜ã®ã‚¿ã‚¤ãƒ—ã‚’ãˆã‚‰ã¼ã†ï¼ğŸ½ï¸",-1))),Kn={class:"flex justify-center space-x-4"},qn=["value"],Sn={class:"ml-2 text-gray-700"},In=["disabled"],Pn={key:2,class:"text-center mt-4"},Wn=kn((()=>(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-8xl text-purple-700 mt-2"},null,-1))),$n=[Wn],On={key:3,class:"mt-4 p-4 border rounded-lg shadow-md"},Un={class:"text-2xl md:text-3xl font-bold mb-2"},Hn=kn((()=>(0,o.Lk)("br",null,null,-1))),Bn=kn((()=>(0,o.Lk)("p",{class:"text-base md:text-lg"},[(0,o.Lk)("strong",null,"ğŸã¤ã‹ã£ãŸé£Ÿã–ã„:")],-1))),Nn=["innerHTML"],Dn=kn((()=>(0,o.Lk)("br",null,null,-1))),Qn=kn((()=>(0,o.Lk)("p",{class:"text-base md:text-lg"},[(0,o.Lk)("strong",null,"ğŸŒŸãƒ¬ã‚·ãƒ”ãªã„ã‚ˆã†:")],-1))),Vn=["innerHTML"],Gn=kn((()=>(0,o.Lk)("br",null,null,-1))),Jn=kn((()=>(0,o.Lk)("p",{class:"text-base md:text-lg"},[(0,o.Lk)("strong",null,"ğŸ˜‹ã©ã‚“ãªå‘³ãŒã™ã‚‹ã®ã‹:")],-1))),Yn=["innerHTML"],Zn=["src"];var el={__name:"CookingRecipe",setup(e){const t=(0,f.KR)([]),n=(0,f.KR)([]),a=(0,f.KR)(!0),s=(0,f.KR)(!1),r=(0,f.KR)(null),i=["ã•ã£ã±ã‚Š","ã“ã£ã¦ã‚Š","ãŠã¤ã¾ã¿"],c=(0,f.KR)("");(0,o.sV)((async()=>{try{const e=await vn();t.value=e.ingredients}catch(e){console.error("Error fetching materials:",e)}finally{a.value=!1}}));const u=async()=>{s.value=!0;try{const e=await bn(n.value,c.value);r.value=e}catch(e){console.error("Error fetching recipe:",e)}finally{s.value=!1}},d=async()=>{r.value=null,n.value=[],c.value="",a.value=!0;try{const e=await vn();t.value=e.ingredients}catch(e){console.error("Error fetching materials:",e)}finally{a.value=!1}},p=e=>{n.value.includes(e)?n.value=n.value.filter((t=>t!==e)):n.value.push(e)};return(e,g)=>((0,o.uX)(),(0,o.CE)("div",yn,[wn,Ln,a.value?((0,o.uX)(),(0,o.CE)("div",Cn,En)):(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",jn,[Mn,(0,o.Lk)("div",Tn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"p-4 border rounded-lg shadow-md cursor-pointer relative",onClick:t=>p(e)},[(0,o.Lk)("label",Fn,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":g[0]||(g[0]=e=>n.value=e),value:e,class:"w-6 h-6 mr-2",onClick:g[1]||(g[1]=(0,l.D$)((()=>{}),["stop"]))},null,8,zn),[[l.lH,n.value]]),(0,o.Lk)("span",{class:"flex-1",onClick:g[2]||(g[2]=(0,l.D$)((()=>{}),["stop"]))},(0,x.v_)(e),1)])],8,Rn)))),128))]),(0,o.Lk)("div",An,[Xn,(0,o.Lk)("div",Kn,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(i,(e=>(0,o.Lk)("label",{key:e,class:"inline-flex items-center"},[(0,o.bo)((0,o.Lk)("input",{type:"radio","onUpdate:modelValue":g[3]||(g[3]=e=>c.value=e),value:e,class:"form-radio h-5 w-5 text-purple-600"},null,8,qn),[[l.XL,c.value]]),(0,o.Lk)("span",Sn,(0,x.v_)(e),1)]))),64))])]),(0,o.Lk)("button",{onClick:u,class:"w-1/2 min-w-[300px] py-3 px-6 bg-purple-600 hover:bg-purple-700 text-white text-lg font-semibold rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mx-auto block disabled:opacity-50 disabled:cursor-not-allowed mt-6",disabled:3!==n.value.length||!c.value}," ã¾ã»ã†ã®ãƒ¬ã‚·ãƒ”ã‚’ã•ãã›ã„ğŸ‘©â€ğŸ³âœ¨ ",8,In)],512)),[[l.aG,!s.value&&!r.value]]),s.value?(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",Pn,$n,512)),[[l.aG,!a.value]]):r.value?(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",On,[(0,o.Lk)("h3",Un," ğŸ‘©â€ğŸ³âœ¨"+(0,x.v_)(r.value.title),1),Hn,Bn,(0,o.Lk)("p",{class:"text-base md:text-lg",innerHTML:r.value.material.join(", ").replace(/\n/g,"<br>")},null,8,Nn),Dn,Qn,(0,o.Lk)("p",{class:"text-base md:text-lg",innerHTML:r.value.recipe.replace(/\n/g,"<br>")},null,8,Vn),Gn,Jn,(0,o.Lk)("p",{class:"text-base md:text-lg",innerHTML:r.value.taste.replace(/\n/g,"<br>")},null,8,Yn),(0,o.Lk)("img",{src:r.value.image,alt:"ãƒ¬ã‚·ãƒ”ã‚¤ãƒ¡ãƒ¼ã‚¸",class:"mt-4 w-full h-auto max-w-[500px] rounded-lg"},null,8,Zn),(0,o.Lk)("button",{onClick:d,class:"w-1/2 min-w-[300px] py-3 px-6 bg-purple-600 hover:bg-purple-700 text-white text-lg font-semibold rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mx-auto block mt-6"}," ã‚‚ã†ã„ã¡ã©ãƒ¬ã‚·ãƒ”ã‚’ä½œã‚‹ ")],512)),[[l.aG,!a.value]]):(0,o.Q3)("",!0)]))}};const tl=(0,i.A)(el,[["__scopeId","data-v-3bdf9790"]]);var nl=tl;const ll={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ol={class:"bg-white p-8 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"},al={class:"text-2xl md:text-3xl font-bold mb-2"},sl=(0,o.Lk)("br",null,null,-1),rl=(0,o.Lk)("p",{class:"text-base md:text-lg"},[(0,o.Lk)("strong",null,"ğŸã¤ã‹ã£ãŸé£Ÿã–ã„:")],-1),il=["innerHTML"],cl=(0,o.Lk)("br",null,null,-1),ul=(0,o.Lk)("p",{class:"text-base md:text-lg"},[(0,o.Lk)("strong",null,"ğŸŒŸãƒ¬ã‚·ãƒ”ãªã„ã‚ˆã†:")],-1),dl=["innerHTML"],pl=(0,o.Lk)("br",null,null,-1),gl=(0,o.Lk)("p",{class:"text-base md:text-lg"},[(0,o.Lk)("strong",null,"ğŸ˜‹ã©ã‚“ãªå‘³ãŒã™ã‚‹ã®ã‹:")],-1),ml=["innerHTML"],xl=["src"];var hl={__name:"RecipePopup",props:{recipe:{type:Object,required:!0}},emits:["close"],setup(e){return(t,n)=>((0,o.uX)(),(0,o.CE)("div",ll,[(0,o.Lk)("div",ol,[(0,o.Lk)("h3",al," ğŸ‘©â€ğŸ³âœ¨"+(0,x.v_)(e.recipe.title),1),sl,rl,(0,o.Lk)("p",{class:"text-base md:text-lg",innerHTML:e.recipe.material.join(", ").replace(/\n/g,"<br>")},null,8,il),cl,ul,(0,o.Lk)("p",{class:"text-base md:text-lg",innerHTML:e.recipe.recipe.replace(/\n/g,"<br>")},null,8,dl),pl,gl,(0,o.Lk)("p",{class:"text-base md:text-lg",innerHTML:e.recipe.taste.replace(/\n/g,"<br>")},null,8,ml),(0,o.Lk)("img",{src:e.recipe.image,alt:"ãƒ¬ã‚·ãƒ”ã‚¤ãƒ¡ãƒ¼ã‚¸",class:"mt-4 w-full h-auto max-w-[500px] rounded-lg"},null,8,xl),(0,o.Lk)("button",{onClick:n[0]||(n[0]=e=>t.$emit("close")),class:"mt-4 bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition"}," é–‰ã˜ã‚‹ ")])]))}};const vl=hl;var bl=vl;const fl={class:"container mx-auto px-4 mt-[-20px]"},kl=(0,o.Lk)("h2",{class:"text-3xl font-bold mb-4 text-center text-purple-700 sm:text-4xl"},[(0,o.Lk)("i",{class:"fas fa-list-ul mr-2"}),(0,o.eW)(" ã¿ã‚“ãªã®ãƒ¬ã‚·ãƒ” ")],-1),yl={class:"overflow-x-auto min-h-[50vh]"},wl={key:0,class:"text-center h-full flex items-center justify-center"},Ll=(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-8xl text-purple-700"},null,-1),Cl=[Ll],_l={key:1},El={key:0,class:"text-center text-xl text-gray-500 py-8"},jl={key:1,class:"space-y-4"},Ml={class:"flex-grow mr-4"},Tl={class:"text-base font-semibold sm:text-lg"},Rl={class:"text-xs text-gray-500 sm:text-sm"},Fl=["onClick"],zl={key:0,class:"mt-6 flex justify-center items-center"},Al=["disabled"],Xl={class:"text-xl"},Kl=["disabled"];var ql={__name:"CookingRecipeList",setup(e){const t=(0,f.KR)([]),n=(0,f.KR)(null),l=(0,f.KR)(1),a=(0,f.KR)(!1),s=(0,f.KR)(!0),r=async()=>{s.value=!0;try{const e=await fn(l.value);t.value=e.recipes||[],a.value=e.hasNextPage||!1}catch(e){console.error("Error fetching recipes:",e),t.value=[],a.value=!1}finally{s.value=!1}};(0,o.sV)(r);const i=()=>{l.value>1&&(l.value--,r())},c=()=>{a.value&&(l.value++,r())},u=e=>{const t=new Date(e);return t.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})},d=e=>{n.value=e},p=()=>{n.value=null};return(e,r)=>((0,o.uX)(),(0,o.CE)("div",fl,[kl,(0,o.Lk)("div",yl,[s.value?((0,o.uX)(),(0,o.CE)("div",wl,Cl)):((0,o.uX)(),(0,o.CE)("div",_l,[0===t.value.length?((0,o.uX)(),(0,o.CE)("div",El," ãƒ¬ã‚·ãƒ”ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼ ")):((0,o.uX)(),(0,o.CE)("ul",jl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:"flex justify-between items-center bg-white p-4 rounded-lg shadow"},[(0,o.Lk)("div",Ml,[(0,o.Lk)("p",Tl,(0,x.v_)(e.title),1),(0,o.Lk)("p",Rl,(0,x.v_)(u(e.date)),1)]),(0,o.Lk)("button",{onClick:t=>d(e),class:"bg-purple-600 text-white px-3 py-1 rounded hover:bg-purple-700 transition text-sm sm:text-base w-20 sm:w-24 flex-shrink-0"}," ã¿ã‚‹ ",8,Fl)])))),128))]))]))]),!s.value&&t.value.length>0&&(a.value||l.value>1)?((0,o.uX)(),(0,o.CE)("div",zl,[(0,o.Lk)("button",{onClick:i,disabled:1===l.value,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full mr-4 disabled:opacity-50"}," ã¾ãˆ ",8,Al),(0,o.Lk)("span",Xl,(0,x.v_)(l.value),1),(0,o.Lk)("button",{onClick:c,disabled:!a.value,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full ml-4 disabled:opacity-50"}," ã¤ã ",8,Kl)])):(0,o.Q3)("",!0),n.value?((0,o.uX)(),(0,o.Wv)(bl,{key:1,recipe:n.value,onClose:p},null,8,["recipe"])):(0,o.Q3)("",!0)]))}};const Sl=ql;var Il=Sl;n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),n(4979);const Pl="https://us-central1-kids-ai-lab.cloudfunctions.net",Wl=async(e,t,n)=>{try{const l=await fetch(`${Pl}/on_food_upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,file_name:t,file_content:n})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()}catch(l){throw console.error("é£Ÿå“ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:",l),l}},$l=async(e,t=1)=>{console.log("ãƒ¦ãƒ¼ã‚¶ãƒ¼ID:",e),console.log("ãƒšãƒ¼ã‚¸:",t);try{const n=await fetch(`${Pl}/on_get_food_data?user_id=${e}&page=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const l=await n.json();return console.log("API response:",l),l}catch(n){throw console.error("é£Ÿå“ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:",n),n}},Ol=e=>((0,o.Qi)("data-v-c8ab4d3c"),e=e(),(0,o.jt)(),e),Ul={class:"container mx-auto px-4 mt-[-20px]"},Hl=Ol((()=>(0,o.Lk)("h2",{class:"text-3xl font-bold mb-4 text-center text-purple-700 sm:text-4xl"},[(0,o.Lk)("i",{class:"fas fa-chart-pie mr-2"}),(0,o.eW)(" ã‚Šã‚‡ã†ã‚Šã‚’ã¶ã‚“ã›ãã™ã‚‹ ")],-1))),Bl=Ol((()=>(0,o.Lk)("p",{class:"text-center text-lg mb-4 text-gray-600"}," AIã«ã‚Šã‚‡ã†ã‚Šã‚’ã¶ã‚“ã›ãã•ã›ã‚ˆã†ğŸ” ",-1))),Nl={class:"flex justify-center space-x-4 mt-8"},Dl={class:"overflow-x-auto min-h-[50vh] mt-8"},Ql={key:0,class:"text-center h-full flex items-center justify-center"},Vl=Ol((()=>(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-8xl text-purple-700"},null,-1))),Gl=[Vl],Jl={key:1},Yl={class:"w-full bg-white rounded-lg overflow-hidden shadow-lg"},Zl=Ol((()=>(0,o.Lk)("thead",{class:"bg-purple-200"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"px-4 py-3 text-left text-sm sm:text-base md:text-lg lg:text-xl hidden sm:table-cell"}," ç™»éŒ²ã—ãŸæ—¥ "),(0,o.Lk)("th",{class:"px-4 py-3 text-left text-sm sm:text-base md:text-lg lg:text-xl"}," æ–™ç†å "),(0,o.Lk)("th",{class:"px-4 py-3 text-center text-sm sm:text-base md:text-lg lg:text-xl hidden sm:table-cell"}," ç‚­æ°´åŒ–ç‰© "),(0,o.Lk)("th",{class:"px-4 py-3 text-center text-sm sm:text-base md:text-lg lg:text-xl hidden sm:table-cell"}," ã‚¿ãƒ³ãƒ‘ã‚¯è³ª "),(0,o.Lk)("th",{class:"px-4 py-3 text-center text-sm sm:text-base md:text-lg lg:text-xl hidden sm:table-cell"}," è„‚è³ª "),(0,o.Lk)("th",{class:"px-4 py-3 text-center text-sm sm:text-base md:text-lg lg:text-xl"}," ã‚«ãƒ­ãƒªãƒ¼ "),(0,o.Lk)("th",{class:"px-4 py-3 text-center text-sm sm:text-base md:text-lg lg:text-xl"})])],-1))),eo={class:"px-4 py-3 text-lg hidden sm:table-cell"},to={class:"hidden sm:inline"},no={class:"px-4 py-3 text-lg"},lo={class:"px-4 py-3 text-lg text-center hidden sm:table-cell"},oo={class:"px-4 py-3 text-lg text-center hidden sm:table-cell"},ao={class:"px-4 py-3 text-lg text-center hidden sm:table-cell"},so={class:"px-4 py-3 text-lg text-center"},ro={class:"px-4 py-3 text-center"},io=["onClick"],co=Ol((()=>(0,o.Lk)("span",{class:"sm:hidden text-white"},"ğŸ‘€",-1))),uo=Ol((()=>(0,o.Lk)("span",{class:"hidden sm:inline whitespace-nowrap"},"ã¿ã‚‹",-1))),po=[co,uo],go={key:2,class:"text-center text-xl text-gray-500 py-8"},mo={key:0,class:"mt-6 flex justify-center items-center"},xo=["disabled"],ho={class:"text-xl"},vo=["disabled"],bo={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},fo={class:"bg-white rounded-lg p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto"},ko={class:"text-2xl font-bold mb-4"},yo=["src","alt"],wo={class:"mb-4"},Lo={class:"flex justify-between items-center mb-2"},Co={class:"font-semibold"},_o=Ol((()=>(0,o.Lk)("hr",{class:"my-2 border-gray-200 w-full"},null,-1))),Eo={class:"flex justify-between items-center"},jo=Ol((()=>(0,o.Lk)("span",{class:"font-semibold"},"ç‚­æ°´ç‰©:",-1))),Mo=Ol((()=>(0,o.Lk)("span",{class:"font-semibold"},"ã‚¿ãƒ³ãƒ‘ã‚¯è³ª:",-1))),To=Ol((()=>(0,o.Lk)("span",{class:"font-semibold"},"è„‚è³ª:",-1))),Ro=Ol((()=>(0,o.Lk)("hr",{class:"my-2 border-gray-200 w-full"},null,-1))),Fo=Ol((()=>(0,o.Lk)("p",{class:"font-semibold mb-2"},"ææ–™:",-1))),zo={class:"mb-4"};var Ao={__name:"CookingAnalysis",setup(e){const t=g(),n=(0,f.KR)(null),l=(0,f.KR)(!1),a=(0,f.KR)([]),s=(0,f.KR)(1),r=(0,f.KR)(!1),i=(0,f.KR)(!1),c=(0,f.KR)(null),u=(0,f.KR)(null),d=e=>{const t=e.target.files;t&&t.length>0&&(n.value=t[0],p())},p=async()=>{if(n.value){l.value=!0;try{const e=new FileReader;e.onload=async e=>{try{const l=e.target.result.split(",")[1],o=n.value.name,a=o.split(".").pop(),s=(new Date).getTime(),r=`${t.uid}_${s}.${a}`,i=await Wl(t.uid,r,l);console.log("ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æˆåŠŸ:",i),await m()}catch(o){console.error("ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ¼:",o)}finally{l.value=!1}},e.readAsDataURL(n.value)}catch(e){console.error("ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:",e),l.value=!1}}},m=async()=>{l.value=!0;try{const e=await $l(t.uid,s.value);console.log("ãƒ¬ã‚¹ãƒãƒ³ã‚¹:",e),a.value=e.data,r.value=e.hasNextPage}catch(e){console.error("é£Ÿäº‹ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã‚¨ãƒ©ãƒ¼:",e)}finally{l.value=!1}},h=()=>{s.value>1&&(s.value--,m())},v=()=>{r.value&&(s.value++,m())},b=e=>{const t=new Date(e),n=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${n}/${l}/${o}`},k=e=>{c.value=e,i.value=!0},y=async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const e=await navigator.permissions.query({name:"camera"});if("denied"===e.state)return void alert("ã‚«ãƒ¡ãƒ©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã§ã‚«ãƒ¡ãƒ©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚");const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}),n=document.createElement("video");n.srcObject=t,n.style.width="100%",n.style.height="auto",n.style.maxWidth="640px",n.style.maxHeight="480px",n.autoplay=!0,n.playsInline=!0;const l=(e,t,n)=>{const l=document.createElement("button");return l.textContent=e,l.style.position="relative",l.style.marginTop="30px",l.style.padding="10px 20px",l.style.fontSize="16px",l.style.backgroundColor=n,l.style.color="white",l.style.border="none",l.style.borderRadius="5px",l.style.cursor="pointer",l.style.width=window.innerWidth<=640?"120px":"200px",l.onclick=t,l},o=l("æ’®å½±",(()=>w(n,t)),"#4CAF50"),a=l("ã‚­ãƒ£ãƒ³ã‚»ãƒ«",(()=>C(t)),"#f44336"),s=document.createElement("div");s.style.display="flex",s.style.justifyContent="center",s.style.gap="10px",s.appendChild(o),s.appendChild(a);const r=document.createElement("div");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="black",r.style.zIndex="1000",r.style.display="flex",r.style.flexDirection="column",r.style.alignItems="center",r.style.justifyContent="center",r.appendChild(n),r.appendChild(s);const i=document.getElementById("camera-container");i&&i.remove(),r.id="camera-container",document.body.appendChild(r);const c=document.querySelectorAll("body > *:not(h2)");c.forEach((e=>{"camera-container"!==e.id&&(e.style.display="none")}));const u=()=>{const e=window.innerWidth<=640?"120px":"200px";o.style.width=e,a.style.width=e};window.addEventListener("resize",u),n.onloadedmetadata=()=>{n.play().catch((e=>console.error("ãƒ“ãƒ‡ã‚ªã®å†ç”Ÿã«å¤±æ•—ã—ã¾ã—ãŸ:",e)))}}catch(e){console.error("ã‚«ãƒ¡ãƒ©ã®èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸ:",e),e instanceof DOMException&&"NotAllowedError"===e.name?alert("ã‚«ãƒ¡ãƒ©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã§ã‚«ãƒ¡ãƒ©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚"):alert("ã‚«ãƒ¡ãƒ©ã®èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ‡ãƒã‚¤ã‚¹ã®ã‚«ãƒ¡ãƒ©ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚")}else console.error("getUserMediaãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“"),alert("ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã‚«ãƒ¡ãƒ©æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚")},w=(e,t)=>{const l=document.createElement("canvas");l.width=e.videoWidth,l.height=e.videoHeight;const o=l.getContext("2d");o.drawImage(e,0,0,l.width,l.height);const a=l.toDataURL("image/jpeg"),s=L(a),r=`captured_image_${Date.now()}.jpg`,i=new File([s],r,{type:"image/jpeg"});n.value=i,t.getTracks().forEach((e=>e.stop()));const c=document.getElementById("camera-container");c&&c.remove();const u=document.querySelectorAll("body > *");u.forEach((e=>{e.style.display=""})),p()},L=e=>{const t=e.split(","),n=t[0].match(/:(.*?);/)[1],l=atob(t[1]);let o=l.length;const a=new Uint8Array(o);while(o--)a[o]=l.charCodeAt(o);return new Blob([a],{type:n})},C=e=>{e&&e.getTracks().forEach((e=>e.stop()));const t=document.getElementById("camera-container");t&&t.remove();const n=document.querySelectorAll("body > *");n.forEach((e=>{e.style.display=""}))},_=()=>{u.value&&(u.value.removeAttribute("capture"),u.value.click())};return(0,o.sV)((()=>{m()})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",Ul,[Hl,Bl,(0,o.Lk)("div",Nl,[(0,o.Lk)("input",{type:"file",onChange:d,accept:"image/*",class:"hidden",ref_key:"fileInput",ref:u},null,544),(0,o.Lk)("button",{onClick:y,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded"}," ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹• "),(0,o.Lk)("button",{onClick:_,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded"}," ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‹ã‚‰é¸æŠ ")]),(0,o.Lk)("div",Dl,[l.value?((0,o.uX)(),(0,o.CE)("div",Ql,Gl)):a.value&&a.value.length>0?((0,o.uX)(),(0,o.CE)("div",Jl,[(0,o.Lk)("table",Yl,[Zl,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.value,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t,class:"border-b border-gray-200 hover:bg-purple-50"},[(0,o.Lk)("td",eo,[(0,o.Lk)("span",to,(0,x.v_)(b(e.date)),1)]),(0,o.Lk)("td",no,(0,x.v_)(e.dish_name),1),(0,o.Lk)("td",lo,(0,x.v_)(e.total_carbohydrates),1),(0,o.Lk)("td",oo,(0,x.v_)(e.total_protein),1),(0,o.Lk)("td",ao,(0,x.v_)(e.total_fat),1),(0,o.Lk)("td",so,(0,x.v_)(e.total_calories),1),(0,o.Lk)("td",ro,[(0,o.Lk)("button",{onClick:t=>k(e),class:"text-white bg-purple-600 hover:bg-purple-700 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-full text-sm sm:text-base px-5 py-2.5 text-center inline-flex items-center transition duration-300 ease-in-out transform hover:scale-105"},po,8,io)])])))),128))])])])):((0,o.uX)(),(0,o.CE)("div",go," ã‚Šã‚‡ã†ã‚Šã®ãƒ‡ãƒ¼ã‚¿ã¯ã¾ã ãªã„ã‚ˆã€‚ã¤ãã£ã¦ã¿ã‚ˆã†ï¼ "))]),!l.value&&a.value&&a.value.length>0&&(r.value||s.value>1)?((0,o.uX)(),(0,o.CE)("div",mo,[(0,o.Lk)("button",{onClick:h,disabled:1===s.value,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full mr-4 disabled:opacity-50"}," ã¾ãˆ ",8,xo),(0,o.Lk)("span",ho,(0,x.v_)(s.value),1),(0,o.Lk)("button",{onClick:v,disabled:!r.value,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full ml-4 disabled:opacity-50"}," ã¤ã ",8,vo)])):(0,o.Q3)("",!0),i.value?((0,o.uX)(),(0,o.CE)("div",bo,[(0,o.Lk)("div",fo,[(0,o.Lk)("h2",ko,(0,x.v_)(c.value.dish_name),1),(0,o.Lk)("img",{src:c.value.image_url,alt:c.value.dish_name,class:"w-full h-64 object-cover rounded-lg mb-4"},null,8,yo),(0,o.Lk)("div",wo,[(0,o.Lk)("div",Lo,[(0,o.Lk)("p",Co," ã‚«ãƒ­ãƒªãƒ¼: "+(0,x.v_)(c.value.total_calories)+"kcal ",1)]),_o,(0,o.Lk)("div",Eo,[(0,o.Lk)("p",null,[jo,(0,o.eW)(" "+(0,x.v_)(c.value.total_carbohydrates)+"g ",1)]),(0,o.Lk)("p",null,[Mo,(0,o.eW)(" "+(0,x.v_)(c.value.total_protein)+"g ",1)]),(0,o.Lk)("p",null,[To,(0,o.eW)(" "+(0,x.v_)(c.value.total_fat)+"g ",1)])]),Ro]),Fo,(0,o.Lk)("p",zo,(0,x.v_)(c.value.ingredients||"ææ–™æƒ…å ±ãŒã‚ã‚Šã¾ã›ã‚“"),1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>i.value=!1),class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded"}," ã¨ã˜ã‚‹ ")])])):(0,o.Q3)("",!0)]))}};const Xo=(0,i.A)(Ao,[["__scopeId","data-v-c8ab4d3c"]]);var Ko=Xo;const qo=[{path:"/",name:"LoginSns",component:Rt},{path:"/contents",component:me,meta:{requiresAuth:!0},children:[{path:"picture-book-create",name:"PictureBookCreate",component:Oe,meta:{requiresAuth:!0}},{path:"picture-book-read",name:"PictureBookRead",component:ut,meta:{requiresAuth:!0},props:()=>({mode:"personal"})},{path:"picture-book-read-public",name:"PictureBookReadPublic",component:ut,meta:{requiresAuth:!0},props:()=>({mode:"all"})},{path:"mugen-quiz",name:"MugenQuiz",component:Zt,meta:{requiresAuth:!0}},{path:"mugen-quiz-ranking",name:"MugenQuizRanking",component:xn,meta:{requiresAuth:!0}},{path:"cooking-recipe",name:"CookingRecipe",component:nl,meta:{requiresAuth:!0}},{path:"cooking-recipe-list",name:"CookingRecipeList",component:Il,meta:{requiresAuth:!0}},{path:"cooking-analysis",name:"CookingAnalysis",component:Ko,meta:{requiresAuth:!0}},{path:"",redirect:{name:"PictureBookCreate"}}]}],So=(0,d.aE)({history:(0,d.LA)(),routes:qo});So.beforeEach((async(e,t,n)=>{const l=g(),o=m();e.matched.some((e=>e.meta.requiresAuth))&&!l.uid?n({name:"LoginSns"}):("LoginSns"===e.name&&o.closeMenu(),n())}));var Io=So;const Po=(0,l.Ef)(u),Wo=(0,p.Ey)();Po.use(Io),Po.use(Wo),Po.mount("#app")}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,l,o,a){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],a=e[u][2];for(var r=!0,i=0;i<l.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](l[i])}))?l.splice(i--,1):(r=!1,a<s&&(s=a));if(r){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[l,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,a,s=l[0],r=l[1],i=l[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(i)var u=i(n)}for(t&&t(l);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(9719)}));l=n.O(l)})();
//# sourceMappingURL=app.3f7a8ee3.js.map